<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <title>Cadastro</title>

  <%- include('../views/head'); %>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
</head>

<body id="app">
  <%- include('../views/nav'); %>
    <section class="bg-light pt-4" id="app">
      <div class="container-lg">
        <div class="text-center">
          <h2>Cadastro de livros</h2>
          <p class="lead">Inclua abaixo os dados do livro a ser cadastrado</p>
        </div>
        <crud-livros :registros="lista" @selecionado="seleciona"></crud-livros>
        <card-livros :registros="lista" @selecionado="exibe"></card-livros>
        <exib-livros :livro="livroExibido" @selecionado="exibe"></exib-livros>
      </div>
    </section>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous">
      </script>
    <footer>
      <%- include('../views/footer'); %>
    </footer>
</body>

</html>
<script type="module">
  import CrudLivros from './_js/CrudLivros.js'
  import CardLivros from './_js/CardLivros.js'
  import ExibLivros from './_js/ExibLivros.js'
  Vue.createApp({
    components: {
      CrudLivros,
      CardLivros,
      ExibLivros
    },
    setup() {
      const lista = Vue.ref([]);
      const nome = Vue.ref(null);
      const livroExibido = Vue.ref({});
      function seleciona(evento) {
        alert(evento);
      }
      function exibe(evento) {
        livroExibido.value = evento;
      }
      return {
        lista,
        nome,
        livroExibido,
        seleciona,
        exibe
      }
    }
  }).mount('#app')
</script>